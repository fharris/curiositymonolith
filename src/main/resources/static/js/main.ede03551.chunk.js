(this["webpackJsonpcuriosities-frontend"]=this["webpackJsonpcuriosities-frontend"]||[]).push([[0],{24:function(e,t,i){},30:function(e,t,i){"use strict";i.r(t);var n=i(1),s=i.n(n),r=i(13),a=i.n(r),c=(i(24),i(14)),u=i(15),o=i(3),l=i(4),h=i(5),d=i(7),b=i(6),j=i(16),p=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,null,[{key:"curiosity",value:function(t,i,n){return fetch(e.GET_PAGE+"/"+t+"/"+i+"/"+n)}},{key:"getTopics",value:function(t,i){return fetch(e.GET_TOPICS+"/"+t+"/"+i)}},{key:"getStats",value:function(t){return console.log("userName for Stats :"+t),fetch(e.GET_STATS+t)}}]),e}();p.GET_PAGE="/wiki/curiosity/page",p.GET_TOPICS="/wiki/curiosity/topics",p.GET_STATS="/wiki/curiosity/stats?userName=";var y,g=p,O=i(0),f=function(e){Object(d.a)(i,e);var t=Object(b.a)(i);function i(){return Object(o.a)(this,i),t.apply(this,arguments)}return Object(l.a)(i,[{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsxs)("table",{class:"center",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"#"}),Object(O.jsx)("th",{children:"Query"}),Object(O.jsx)("th",{children:"Article"})]})}),Object(O.jsx)("tbody",{children:this.props.queryPageList.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.id}),Object(O.jsx)("td",{children:e.originalQuery}),Object(O.jsx)("td",{children:e.query})]},e.id)}))})]})})}}]),i}(n.Component),x=f,v=function(e){Object(d.a)(i,e);var t=Object(b.a)(i);function i(e){var n;return Object(o.a)(this,i),(n=t.call(this,e)).state={user:"",message:"I want to know about...",query:"?",queryTopics:"",originalQuery:"OldValueDude",curiosityUrl:"https://www.wikipedia.org/",topic1:"",topic2:"",topic3:"",queryPageList:[]},n.handleSubmitGetCuriosity=n.handleSubmitGetCuriosity.bind(Object(h.a)(n)),n.handleChange=n.handleChange.bind(Object(h.a)(n)),n.handleSubmitGetPages=n.handleSubmitGetPages.bind(Object(h.a)(n)),n}return Object(l.a)(i,[{key:"componentDidMount",value:function(){}},{key:"handleSubmitGetCuriosity",value:function(e,t,i){var n=this;g.curiosity(t,e,i).then((function(e){e.ok?(n.updateMessage("Oki! Here you have all you need to know about..."),e.json().then((function(e){n.setState({query:e.title,curiosityUrl:e.keyUrl})})),n.updateLastQueryPages(n.state.user)):(alert("Ups! I have a little problem!"),n.updateMessage("Can't reach the server - Res in NoK! Make sure you have nickname!"))}))}},{key:"handleChange",value:function(e){var t=e.target.name;this.setState(Object(u.a)({},t,e.target.value))}},{key:"updateMessage",value:function(e){this.setState({message:e})}},{key:"handleSubmitGetPages",value:function(e){var t=this;e.preventDefault(),g.getTopics(this.state.user,this.state.query).then((function(e){e.ok?(t.updateMessage("There are a few articles available for your curiosity"),e.json().then((function(e){console.log(Object.keys(e.query.pages));var i=Object.keys(e.query.pages);t.setState({originalQuery:t.state.query,topic1:e.query.pages[i[0]].title,topic2:e.query.pages[i[1]].title,topic3:e.query.pages[i[2]].title})})),t.updateLastQueryPages(t.state.user)):(alert("Ups! I have a little problem!"),t.updateMessage("Please make sure you have nickname or a proper query"))}))}},{key:"updateLastQueryPages",value:function(e){var t=this;g.getStats(e).then((function(e){if(e.ok){var i=[];e.json().then((function(e){e.forEach((function(e){i.push(e)})),t.setState({queryPageList:i})}))}}))}},{key:"render",value:function(){var e=this,t={blue:{default:"#3f51b5",hover:"#283593"},green:{default:"#d4e157",hover:"#616b57"},pink:{default:"#e91e63",hover:"#ad1457"}},i=j.a.button(y||(y=Object(c.a)(["\n    background-color: ",";\n    color: white;\n    padding: 5px 15px;\n    border-radius: 5px;\n    outline: 0;\n    text-transform: uppercase;\n    margin: 10px 0px;\n    cursor: pointer;\n    box-shadow: 0px 2px 2px lightgray;\n    transition: ease background-color 250ms;\n    &:hover {\n        background-color: ",";\n    }\n    &:disabled {\n        cursor: default;\n        opacity: 0.7;\n    }\n    "])),(function(e){return t[e.theme].default}),(function(e){return t[e.theme].hover}));return i.defaultProps={theme:"blue"},Object(O.jsxs)("div",{class:"center",children:[Object(O.jsx)("header",{children:Object(O.jsx)("h1",{children:"WikipediA CuriositieS"})}),Object(O.jsx)("h5",{children:this.state.message}),Object(O.jsx)("div",{children:Object(O.jsx)("h2",{children:this.state.query})}),Object(O.jsx)("div",{children:Object(O.jsx)(x,{queryPageList:this.state.queryPageList})}),Object(O.jsxs)("form",{onSubmit:this.handleSubmitGetPages,children:[Object(O.jsxs)("label",{children:["My name is:",Object(O.jsx)("input",{type:"text",maxLength:"24",name:"user",value:this.state.user,onChange:this.handleChange})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["My query is:",Object(O.jsx)("input",{type:"text",maxLength:"23",name:"query",value:this.state.query,onChange:this.handleChange})]}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"submit",value:"Submit"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{children:"Available Articles"}),Object(O.jsxs)("h3",{children:[Object(O.jsxs)(i,{onClick:function(){return e.handleSubmitGetCuriosity(e.state.topic1,e.state.user,e.state.originalQuery)},children:[" ",this.state.topic1," "]}),Object(O.jsxs)(i,{theme:"pink",onClick:function(){return e.handleSubmitGetCuriosity(e.state.topic2,e.state.user,e.state.originalQuery)},children:[" ",this.state.topic2," "]}),Object(O.jsxs)(i,{theme:"green",onClick:function(){return e.handleSubmitGetCuriosity(e.state.topic3,e.state.user,e.state.originalQuery)},children:[" ",this.state.topic3," "]})]})]}),Object(O.jsx)("div",{children:Object(O.jsx)("iframe",{width:"100%",height:"400",src:this.state.curiosityUrl,title:"Wikipedia Page"})})]})}}]),i}(n.Component);var m=function(){return Object(O.jsx)(v,{})},k=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,31)).then((function(t){var i=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;i(e),n(e),s(e),r(e),a(e)}))};a.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(m,{})}),document.getElementById("root")),k()}},[[30,1,2]]]);
//# sourceMappingURL=main.ede03551.chunk.js.map